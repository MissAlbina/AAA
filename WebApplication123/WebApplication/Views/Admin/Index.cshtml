
@{
    ViewBag.Title = "Index";
}
<div ng-controller="ClientController as ClientCntrl" class="col-md-12">
    <h2>Title</h2>

    <div ng-show="ClientCntrl.divClient" class="panel panel-default">
        <div class="panel-heading">
            <h3>{{ClientCntrl.Action}} {{ 'Client' }}</h3>
        </div>
        <div class="panel-body">
            <table class="table">
                <tr style="display:none">
                    <td><b>Id</b></td>
                    <td>
                        <input type="text" class="form-control" disabled="disabled" ng-model="ClientCntrl.clientId" />
                    </td>
                </tr>
                <tr>
                    <td><b>surname</b></td>
                    <td>
                        <input type="text" class="form-control" ng-model="ClientCntrl.clientsurname" />
                    </td>
                </tr>
                <tr>
                    <td><b>name</b></td>
                    <td>
                        <input type="text" class="form-control" ng-model="ClientCntrl.clientname" />
                    </td>
                </tr>
                <tr>
                    <td><b>patronymic</b></td>
                    <td>
                        <input type="text" class="form-control" ng-model="ClientCntrl.clientpatronymic" />
                    </td>
                </tr>
                <tr>
                    <td><b>phone</b></td>
                    <td>
                        <input type="text" class="form-control" ng-model="ClientCntrl.clientphone" />
                    </td>
                </tr>
                <tr>
                    <td><b>table_number</b></td>
                    <td>
                        <input type="text" class="form-control" ng-model="ClientCntrl.clienttable_number" />
                    </td>
                </tr>
                <tr>
                    <td><b>time</b></td>
                    <td>
                        <input type="text" class="form-control" ng-model="ClientCntrl.clienttime" />
                    </td>
                </tr>
                <tr>
                    <td><b>hours</b></td>
                    <td>
                        <input type="text" class="form-control" ng-model="ClientCntrl.clienthours" />
                    </td>
                </tr>
                <tr>
                    <td><b>date_time_reg</b></td>
                    <td>
                        <input type="text" class="form-control" disabled="disabled" ng-model="ClientCntrl.clientdate_time_reg" />
                    </td>
                </tr>
                <tr>
                    <td><b>comment_text</b></td>
                    <td>
                        <input type="text" class="form-control" ng-model="ClientCntrl.clientcomment_text" />
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <input type="button" class="btn btn-success" value="Save" ng-click="ClientCntrl.UpdateClient()" style="margin-right:10px" />
                        <input type="button" class="btn btn-danger" value="Cancel" ng-click="ClientCntrl.CancelClientDiv()" />
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="input-group" style="width: 25%;">
        <input ng-model="ClientCntrl.search" ng-keypress="ClientCntrl.enterSearch($event)" class="form-control" placeholder="Search">
        <span class="input-group-btn">
            <button ng-click="ClientCntrl.cancelSearch()" class="btn btn-danger" type="button">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            </button>
        </span>
    </div>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th ng-click="ClientCntrl.refreshData('id')" style="cursor: pointer">
                    Id
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='id'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th ng-click="ClientCntrl.refreshData('surname')" style="cursor: pointer">
                    surname
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='surname'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-right" ng-click="ClientCntrl.refreshData('name')" style="cursor: pointer">
                    name
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='name'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-right" ng-click="ClientCntrl.refreshData('patronymic')" style="cursor: pointer">
                    patronymic
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='patronymic'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-right" ng-click="ClientCntrl.refreshData('phone')" style="cursor: pointer">
                    phone
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='phone'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-right" ng-click="ClientCntrl.refreshData('table_number')" style="cursor: pointer">
                    table_number
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='table_number'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-right" ng-click="ClientCntrl.refreshData('time')" style="cursor: pointer">
                    time
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='time'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-right" ng-click="ClientCntrl.refreshData('hours')" style="cursor: pointer">
                    hours
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='hours'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-right" ng-click="ClientCntrl.refreshData('date_time_reg')" style="cursor: pointer">
                    date_time_reg
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='date_time_reg'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-right" ng-click="ClientCntrl.refreshData('comment_text')" style="cursor: pointer">
                    comment_text
                    <span class="glyphicon sort-icon" ng-show="ClientCntrl.sortKey=='comment_text'" ng-class="{'glyphicon-chevron-up':ClientCntrl.reverse,'glyphicon-chevron-down':!ClientCntrl.reverse}"></span>
                </th>
                <th class="text-center" style="width: 150px">'Action'</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="client in ClientCntrl.allClients">
                <td>{{client.Id}}</td>
                <td class="text-right">{{client.surname}}</td>
                <td class="text-right">{{client.name}}</td>
                <td class="text-right">{{client.patronymic}}</td>
                <td>{{client.phone}}</td>
                <td>{{client.table_number}}</td>
                <td>{{client.time}}</td>
                <td>{{client.hours}}</td>
                <td>{{client.date_time_reg}}</td>
                <td>{{client.comment_text}}</td>
                <td>
                    <span ng-click="ClientCntrl.EditClient(client)" class="btn btn-warning">'Edit'</span>
                    <span ng-click="ClientCntrl.DeleteClient(client)" class="btn btn-danger">'Delete'</span>
                </td>
            </tr>
        </tbody>
    </table>
    <uib-pagination ng-model="ClientCntrl.currentPage"
                    total-items="ClientCntrl.totalItems"
                    ng-change="ClientCntrl.pageChanged()"
                    max-size="ClientCntrl.maxSize"
                    items-per-page="ClientCntrl.numPerPage"
                    boundary-links="true">
    </uib-pagination>
</div>

